# Goal-directed-Generation-of-Discrete-Structures-with-Conditional-Generative-Models

This repository is the official implementation of [Goal-directed-Generation-of-Discrete-Structures-with-Conditional-Generative-Models](https://arxiv.org/pdf/2010.02311.pdf).


## Requirements

To code requires: 
```
Python 3.6.9
torch = 1.2.0a0+e6a7071
numpy=1.16.4
```

Easy way is to pull the image given in the link below,  it sets up all the environment you need.
https://hub.docker.com/repository/docker/2012913/icml_2020


## Dataset
All the raw data and processed data that are used in the experiments can be downloaded from this dropbox link:

https://www.dropbox.com/sh/cnt3j5hlf3z29f4/AABQpmFNkQPiygfx9OE2HVxAa?dl

You can either generate the data following the instruction or directly download the folder named `data` in the dropbox and place it in the current directory. Once the data download/generated, you should have the following structure:

```sh
Goal-directed-generation-of-molecules (root)
 |__  README.md
 |__  data
 |__  gencond
 |__  |__ lstm
 |__  |__ our_model
 |__  |__ our_model_entropy
 |__ Guacamol_preprocess_properties.p
 |__ QM9_preprocess_properties.py
```

##### QM9: 
train/test/validation set size: 113885/10k/10k

`data/QM9/QM9_clean_smi_%s_smile.npy`, include train/test smile strings

`data/QM9/QM9_clean_smi_%s_smile.npz`, include train/test smile strings plus the property vector for each smiles (9 properties). This file is generated by `QM9_preprocess_properties.py` taking input as the smile string and calculating the properties.


##### Guacamol
train/test/validation set size: 1273104/238706/79568

`data/Guacamol/%s_props.npz`, train/test/validation, include both smile strings and corresponding properties.


The raw data which include train, test and validation smile strings can be downloaded from 
 https://figshare.com/projects/GuacaMol/56639

You can either download the raw data and run `Guacamol_preprocess_properties.py` to generate the files `%s_props.npz` or directly download it from this link https://www.dropbox.com/sh/cnt3j5hlf3z29f4/AABQpmFNkQPiygfx9OE2HVxAa?dl=0
